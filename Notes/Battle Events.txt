Battle Events (12/31/16)
------------------------
There needs to be a system that allows events in battles so it waits
for specific things to happen before starting the next character's turn.

Examples in the PM games:
-------------------------
-Hurt and death animations finishing
-Dialogue from characters during event battles
-Enemies running after using a Fright Jar/Fright Mask
-Status Effects taking effect at the start of the phase cycle, such as Burn and Frozen
-Status Effects completing at the start of the phase cycle (character jumps up)
-Battle messages like for Burn ("Burned! The fire will steadily do damage!") or not being able to run away ("Can't flee this fight!")

Details/Thoughts
----------------
Some events happen after others.

Poison will take effect before Burn. While Poison happens before Burn in the current system, it doesn't have Poison take
effect on all entities and wait, then have Burn take effect on all entities and wait for it to finish.

Before delving into that, let's start simpler and on a global battle scale. Battle Messages are the simplest events.

Scratching the surface, this can be implemented using a queue. When a Battle Message is supposed to show up, add it to the queue
and wait for it to finish before moving onto the next event. When no more events exist, start the next character's turn.
However, this won't work for the Status Effects as described above.

We can likely use a Dictionary for this. Some more info:
-The keys would be integer values, with higher values meaning higher priorities and vice versa
-The values would be a List of BattleEvent objects
-We would track the highest priority in a separate field and update the list of BattleEvents corresponding to that priority first
-The highest priority value would be updated after each finished BattleEvent. If the list for that priority is finished,
it finds the next highest priority to update

Example:
--------
Dictionary<int, List<BattleEvent>> BattleEvents = new Dictionary<int, List<BattleEvent>>();
int CurHighestPriority;


public void AddBattleEvent(int priority, BattleEvent battleEvent)
{
	//Do stuff here
}

public void UpdateBattleEvents()
{
	//Update battle events
	//Remove event if done
	//If no more events for priority
	//Get next highest priority
}

Update (1/3/17)
---------------
Battle Events can only occur if the BattleState is TurnEnd. The only exception to this, that I can find so far, is taking damage and Battle Messages
in a specific case:
If the audience throws something at Mario or his Partner, it'll start a damage or Battle Message event if the item is negative or positive
respectively, bring down their menus when the event starts, then bring the menus back up when the event is done.
I'll have to double-check to see if there any other instances of events occurring at different times.

This wasn't specified previously, but if a higher priority Battle Event is added while the Battle Events are being performed, the current
priority finishes before moving on.

Furthermore, BattleEvents themselves may need to have their priorities defined. I'll start a first-pass implementation to see how the current
design works then modify it as needed, as doing that will constrain each Battle Event to a priority. Let's not allow priorities less than 0 to
keep things simple.